{"version":3,"file":"7.8e946ca5a31236873746.hot-update.js","sources":["webpack:///client/components/Header/HeaderRightMenu.js"],"sourcesContent":["import React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport Router from 'next/router';\nimport styled from 'styled-components';\nimport HeaderMenuItem from './HeaderMenuItem';\nimport { showPageLoading, logoutUser, unauthUser } from '../../actions';\nimport Button from '../Button';\n\nconst List = styled.ul`\n  display: flex;\n  float: right;\n  justify-content: flex-end;\n  align-items: center;\n  margin: 0;\n  padding: 0;\n  list-style: none;\n`;\n\nconst IMAGE = styled.img`\n  border-radius: 50%;\n  width: 60px;\n  border: 5px solid #2979ff;\n  box-shadow: 0 5px 6px rgba(66,165,245,0.5);\n`;\n\nconst LoginContainer = styled.div`\n  display: inline-block;\n\n  @media only screen and (max-width: 488px) {\n    display: none;\n  }\n`;\n\nconst HeaderMenu = props => {\n  const goTo = e => {\n    e.preventDefault();\n    const path = e.currentTarget.getAttribute('href');\n    if (!path || window.location.pathname === path) return;\n    props.showPageLoading();\n    Router.push(path);\n  };\n\n  const logoutHandler = (e) => {\n    e.preventDefault();\n    props.logout()\n    .then( () => {\n      props.unAuthUser();\n      Router.push('/login');\n    })\n    .catch(() => {\n\n    });\n  }\n\n  const login = !props.auth.isAuthenticated && (\n    <HeaderMenuItem>\n      <a href=\"/login\" title=\"login / signup\" onClick={goTo}>\n        <Button>Login / Sign up</Button>\n      </a>\n    </HeaderMenuItem>\n  );\n\n  const profile = props.auth.isAuthenticated && (\n    <HeaderMenuItem>\n      <a href=\"/profile\" title=\"profile\">\n        <IMAGE alt=\"avatar\" src={props.auth.user.photoURL}></IMAGE>\n      </a>\n    </HeaderMenuItem>\n  )\n\n  const event_types = props.auth.isAuthenticated && (\n    <HeaderMenuItem>\n      <a href=\"/event_types\" title=\"Event Types\" onClick={goTo}>\n        Event Types\n      </a>\n    </HeaderMenuItem>\n  )\n\n  const logout = props.auth.isAuthenticated && (\n    <LoginContainer>\n      <HeaderMenuItem>\n        <a href=\"/logout\" title=\"logout\" onClick={logoutHandler}>\n          <Button>Logout</Button>\n        </a>\n      </HeaderMenuItem>\n    </LoginContainer>\n  );\n  // const settings = props.auth.isAuthenticated && (\n  //   <HeaderMenuItem>\n  //     <a href=\"/settings\" title=\"settings\" onClick={goTo}>\n  //       <Button>Settings</Button>\n  //     </a>\n  //   </HeaderMenuItem>\n  // );\n  return (\n    <List>\n      {event_types}\n      {profile}\n      {logout}\n      {login}\n    </List>\n  );\n};\n\nHeaderMenu.propTypes = {\n  showPageLoading: PropTypes.func.isRequired,\n};\n\nconst mapStateToProps = ({ auth }) => ({ auth });\n\nconst mapDispatchToProps = dispatch => ({\n  showPageLoading: () => dispatch(showPageLoading()),\n  logout: () => dispatch(logoutUser()),\n  unAuthUser: () => dispatch(unauthUser())\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HeaderMenu);\n\n\n\n// WEBPACK FOOTER //\n// client/components/Header/HeaderRightMenu.js"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAUA;AAOA;AACA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAIA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;AACA;AADA;AACA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAHA;AAAA;AACA;AAKA;;;;A","sourceRoot":""}